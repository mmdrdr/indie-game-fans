<div class="right-all col-12 col-md-8 offset-1">
  <h1>ログイン</h1>

  <!-- ゲストログイン -->
  <p>ゲストは↓こちらからログインしてください。</p>
  <div>
    <%= form_for(resource, as: resource_name, url: session_path(resource_name)) do |f| %>
      <%= f.hidden_field :email ,value: ENV['TEST_USER_MAIL'] %>
      <%= f.hidden_field :password ,value: ENV['TEST_USER_PASSWORD'] %>
      <%= f.submit "ゲストログイン", class: "nes-btn is-success" %>
    <% end %>
  </div>

  <%= form_for(resource, as: resource_name, url: session_path(resource_name)) do |f| %>
    <div class="field">
      <h6 class="mt-4">メールアドレス</h6>
      <%= f.email_field :email, autofocus: true, autocomplete: "email", class: "nes-input" %>
    </div>

    <div class="field">
      <h6 class="mt-4">パスワード</h6>
      <%= f.password_field :password, autocomplete: "current-password", class: "nes-input" %>
      <i class="fas fa-eye toggle-password"></i>
      <p>パスワードがわからないときは、<%= link_to "こちら", new_contacts_path %>　からおといあわせください</p>
    </div>

    <!-- パスワードの表示・非表示切替 -->
    <script>
      $(".toggle-password").click(function() {
        // iconの切り替え
        $(this).toggleClass("fa-eye fa-eye-slash");
        
        // 入力フォームの取得
        var input = $(this).prev("input");
        // type切替
        if (input.attr("type") == "password") {
          input.attr("type", "text");
        } else {
          input.attr("type", "password");
        }
      });
    </script>

    <div class="actions mt-4">
      <%= f.submit "ログイン", class: "nes-btn is-primary" %>
    </div>
  <% end %>

  <div class="mt-4">
    <h3>ソーシャルログイン</h3>
    <p>SNSアカウントでログインできます。</p>
    <%= link_to user_facebook_omniauth_authorize_path do %>
      <i class="nes-icon facebook"></i>
    <% end %>
  </div>
</div>
